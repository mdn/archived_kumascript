<%
var lang = env.locale
/* set up the page name based on language */

var methodName = "Method";

switch(lang) {
  case 'de':
    methodName = "Methoden";
    break;
  case 'fr':
    methodName = "MÃ©thodes";
    break;
  case 'pl':
    methodName = "Metoda";
    break;
  }

/* get the method name */

var api = $0;
var destOldType = lang + '/' + 'XUL:' + methodName + ':' + api;
var destNewType = lang + '/' + 'XUL/' + methodName + '/' + api;

if (wiki.pageExists(destNewType)) { /* the page exists from the deki age */
  %><%-wiki.page(destNewType)%><%
} else if(wiki.pageExists(destOldType)) { /* the page exists from the mediawiki age */
  %><%-wiki.page(destOldType)%><%
} else { /* the page doesn't exist */
  var targeturi = "/docs/new?slug=XUL/" + methodName + "/" + api;
  %><code><a rel="internal" href="<%=targeturi%>" class="new"><%=(api)%></a></code><%
}
%>
