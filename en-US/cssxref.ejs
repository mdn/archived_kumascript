<%
var u = Uri.Parts(Page.uri);
var lang = string.toLower(u.path[0]);
if(string.Contains(lang, "project")) {
  lang = string.Substr(lang, 8);
} else if (string.StartsWith(lang, "user:")) {
  lang = page.language;
} 
var fragmentPos = string.IndexOf($0, "#");
var nameWithoutFragment = $0;
if (fragmentPos >= 0) {
  nameWithoutFragment = string.Substr($0, fragementPos);
}
if(wiki.pageExists(lang + '/CSS/' + nameWithoutFragment)) {
  <code>(web.link(wiki.uri(lang + '/CSS/' + $0), ($1 || $0)))</code>;
} else if (lang == 'zh_tw' && wiki.pageExists('en/CSS/' + nameWithoutFragment)){
  <code>(web.link(wiki.uri('en/CSS/' + $0), ($1 || $0)))</code>;  
} else {
  var targeturi = "https://developer.mozilla.org/Article_not_found?uri=" + lang + "/CSS/" + $0;
  <code><a rel=('internal') href=(targeturi) class=('new')>($1 || $0)</a></code>;
}
</pre>
