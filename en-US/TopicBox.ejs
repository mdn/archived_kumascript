<%
// Presents a box showing assorted information about the community
// for the technology area covered by a landing page.
//
// THIS IS THE NEW VERSION, PRESENTED AS A FULL-WIDTH BANNER.
//
// Parameters:
//  $0  Name of the topic

var ircChannelName = "mdn";
var mlName = "dev-mdc";
var ngName = "mozilla.dev.mdc";
var driver = {};
driver.CSS = {  "name"      : "Jean-Yves Perrier",
                "ircPseudo" : "teoli",
                "mdnPseudo" : "teoli",
                "docStatus" : "MDN/Doc_status/CSS"
};
                   

var headingStr = "";
var topicDriverStr = "";
var ircStr = "";
var statusStr = "";

var ircInfoLink = "<a href='https://wiki.mozilla.org/IRC'>";

// Build the IRC channel URL if a channel name was specified
ircLink = "<a href='irc://irc.mozilla.org/" + ircChannelName + "'>#" + ircChannelName + "</a>";

// Generate localized strings

switch(env.locale) {
    case "fr":
        headingStr = "Aidez le projet de documentation '" + $0 + "'…";
        statusStr = "Consultez le <a href='/fr/docs/" + driver.CSS.docStatus + "'>statut</a>< de la documentation '" + $0 + "'.";
        topicDriverStr = "Coordinateur du domaine : <a href='/en-US/profiles/" + driver.CSS.mdnPseudo + "'>" + driver.CSS.name + "</a> (Pseudo IRC: " + driver.CSS.ircPseudo + ")";
        ircStr = "N'hésitez pas à nous contacter sur #" + ircLink + "ou sur la liste de diffusion " + mlName + " :";
        break;
    default:
        headingStr = "Help the '" + $0 + "' documentation project…";
        statusStr = "Look at the current <a href='/en-US/docs/" + driver.CSS.docStatus + "'>status</a> of the '" + $0 +"' documentation.";
        topicDriverStr = "Topic driver : <a href='en-US/profiles/" + driver.CSS.mdnPseudo + "'>" + driver.CSS.name + "</a> (IRC pseudo: " + driver.CSS.ircPseudo + ")";
        ircStr = "Don't hesitate to contact us on " + ircLink + " or on the " + mlName + " mailing-list:";
        break;
}
%>

<div class="overheadIndicator communitybox">
    <div class="column-container">
        <div class="communitysubhead" id="Help_topic"><%=headingStr%></div>
        <div class="communitycontact"><%-topicDriverStr%></div>
        <div class="communitycontact"><%-statusStr%></div>
        <div class="communitysubhead communitycontact"><%-ircStr%></div>
        <%-template("DiscussionList", [mlName, ngName, "communitymailinglist"])%>
        </ul>
    </div>
    </ul>
    </div>
</div>
