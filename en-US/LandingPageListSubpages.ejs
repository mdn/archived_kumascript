<%
// Inserts a definition list of the subpages of the current page, with each
// page's title as the <dt> term and its SEO summary as the <dd> term.
//
// Parameters:
//  None

var html = template("SubpagesWithSummaries");

// Now we have the entire list in HTML. Let's go through it and try to split it into two columns by force.

var len = html.length;

if (len) {
    var col1 = "";
    var col2 = "";
    var numTerms = (html.match(/\<li\>/g) || []).length;
   
    if (numTerms > 1) {
        var pt = len/2;
        col2 = html.substr(pt);
        ofs = col2.search("<dt ");
        pt += ofs;
        col2 = html.substr(pt);
        col1 = html.substr(0, pt);
    } else {
        col1 = html;
    }
    
    %>
    <div class="row topicpage-table">
    <div class="section"><%-col1%></div>
    <div class="section"><%-col2%></div>
    </div>
    <%
} else {
    %><p><strong>There are no subpages at this time.</strong></p><%
}
%>
