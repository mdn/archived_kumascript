<%

/* parameters: path of IDL, parent class, scriptable/not scriptable,
/* last Gecko version changed in, summary (optional) */
/* version introduced, version deprecated, version obsoleted */
/* (all optional; timeline will draw if version introduced provided) */
/* get page language first */

var u = uri.parts(Page.uri);
var lang = string.tolower(u.path[0]);
if (string.contains(lang, "project") || string.contains(lang, "Project")) {
  lang = string.substr(lang, 8);
}
/* fall back to page.language on a user page */
else if (string.StartsWith(lang, "user:")) {
 lang = page.language;
}

/* defaults to English */
var scriptableOutput = "Unknown";
var scriptable = "Scriptable";
var notscriptable = "Not scriptable";
var scriptableLink = "en/Interfaces/About_Scriptable_Interfaces";
var lastChanged = "Last changed in Gecko ";
var outdated = "This page has not been updated recently; the content may be outdated.";

switch(lang) {
  case "fr":
    var scriptable = "Scriptable";
    var notscriptable = "Not scriptable";
    var scriptableLink = "fr/Interfaces/À_propos_des_interfaces_scriptables";
    break;
  case "ja":
    var scriptable = "Scriptable";
    var notscriptable = "Not scriptable";
    var scriptableLink = "ja/Interfaces/About_Scriptable_Interfaces";
    break;
  case "ko":
    var scriptable = "스크립트에서 사용 가능";
    var notscriptable = "Not scriptable";
    var scriptableLink = "ko/Interfaces/About_Scriptable_Interfaces";
    break;
  case "pl":
    var scriptable = "skryptowalny";
    var notscriptable = "Not scriptable";
    var scriptableLink = "pl/Interfejsy/O_interfejsach_skryptowalnych";
    break;
  case "zh-cn":
    var scriptable = "skryptowalny";
    var notscriptable = "Not scriptable";
    var scriptableLink = "pl/Interfejsy/O_interfejsach_skryptowalnych";
    var lastChanged = "最后修改于Gecko ";
    break;
}

switch(string.tolower($2)) {
  case "scriptable":
    scriptableOutput = '<a style="color:#00cc00; font-weight:bold;" href="' + scriptableLink + '">' + scriptable + '</a>';
    break;
  case "not scriptable":
    scriptableOutput = '<span style="color:#cc0000; font-weight:bold;">' + notscriptable + '</span>';
    break;
}

if (date.DiffMonths(date.now, Page.date) > 10000) {
  template.note(outdated);
}
<div style="border:solid #dddddd 2px; margin-right:262px; margin-bottom:12px;">
<div style="background:#eeeeee; padding:2px;">(web.html(template.source($0)));<span style="text-align:right; float:right;">(web.html(scriptableOutput));</span></div>
var summary = $4;
if (!$4) {
  summary = "<i>Please add a summary to this article.</i>";
}
<span style="padding-left:2px; padding-right:2px; padding-top:4px; padding-bottom:4px;">(web.html(summary));</span>
if ($5) {
  template.VersionTimeline($5, $3, $7, $6);
}
<div style="background:#eeeeee; padding:2px;">
if ($1 != "") {
  (web.html("Inherits from: " + template.interface($1)));
}
else
{
<span>&nbsp;</span>
}
<span style="text-align:right; float:right;">(web.html(lastChanged + $3 + " " + template.geckoRelease($3)));</span></div>
</div>
</pre>
