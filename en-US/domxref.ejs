
<pre class="script">
/* accepts as input one required parameter: DOM API to create a xref to */
/* this will first try to link to DOM:parm1, then DOM/parm1 if that doesn't exist */
/* if parm2 is specified, the item is displayed as a method name with parens */

/* get a page's language (Don't use page.language!) */
var u = Uri.Parts(Page.uri);
var lang = u.path[0];
var ttl = $0;

/* build displayed title */

var useparens = $1 || 0;
if (useparens) {
    ttl = ttl + '()';
}

/* check first parm exists */
var dest = lang + '/' + 'DOM:' + $0;
if (wiki.pageExists(dest)) {
    <code>(web.link(wiki.uri(dest), ttl))</code>;
} else {
    dest = lang + '/' + 'DOM/' + $0;
    <code>(web.link(wiki.uri(dest), ttl))</code>;
}
</pre>
